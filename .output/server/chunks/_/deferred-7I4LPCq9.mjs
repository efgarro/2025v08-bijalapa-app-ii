import{f as e,g as r,h as s,r as d,j as n}from"./ssr.mjs";import{A as o}from"./awaited.mjs";import"./nitro.mjs";import"node:buffer";import"node:timers";import"node:events";import"node:process";import"cloudflare:workers";import"node:async_hooks";import"node:stream";import"node:stream/web";const a=e("src_routes_deferred_tsx--personServerFn_createServerFn_handler","/_serverFn",(e,r)=>t.__executeServer(e,r)),t=r({method:"GET"}).validator(e=>e).handler(a,({data:e})=>({name:e,randomNumber:Math.floor(100*Math.random())})),i=e("src_routes_deferred_tsx--slowServerFn_createServerFn_handler","/_serverFn",(e,r)=>m.__executeServer(e,r)),m=r({method:"GET"}).validator(e=>e).handler(i,async({data:e})=>(await new Promise(e=>setTimeout(e,1e3)),{name:e,randomNumber:Math.floor(100*Math.random())})),l=s("/deferred")({loader:async()=>({deferredStuff:new Promise(e=>setTimeout(()=>e("Hello deferred!"),2e3)),deferredPerson:m({data:"Tanner Linsley"}),person:await t({data:"John Doe"})}),component:function(){const[e,r]=d.useState(0),{deferredStuff:s,deferredPerson:a,person:t}=l.useLoaderData();return n.jsxs("div",{className:"p-2",children:[n.jsxs("div",{"data-testid":"regular-person",children:[t.name," - ",t.randomNumber]}),n.jsx(d.Suspense,{fallback:n.jsx("div",{children:"Loading person..."}),children:n.jsx(o,{promise:a,children:e=>n.jsxs("div",{"data-testid":"deferred-person",children:[e.name," - ",e.randomNumber]})})}),n.jsx(d.Suspense,{fallback:n.jsx("div",{children:"Loading stuff..."}),children:n.jsx(o,{promise:s,children:e=>n.jsx("h3",{"data-testid":"deferred-stuff",children:e})})}),n.jsxs("div",{children:["Count: ",e]}),n.jsx("div",{children:n.jsx("button",{onClick:()=>r(e+1),children:"Increment"})})]})}});export{a as personServerFn_createServerFn_handler,i as slowServerFn_createServerFn_handler};
//# sourceMappingURL=deferred-7I4LPCq9.mjs.map
